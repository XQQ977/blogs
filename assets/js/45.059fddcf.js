(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{465:function(s,n,a){"use strict";a.r(n);var t=a(2),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"防抖和节流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#防抖和节流"}},[s._v("#")]),s._v(" 防抖和节流")]),s._v(" "),n("h2",{attrs:{id:"一、防抖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一、防抖"}},[s._v("#")]),s._v(" 一、防抖")]),s._v(" "),n("h3",{attrs:{id:"_1-对防抖和节流的理解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-对防抖和节流的理解"}},[s._v("#")]),s._v(" 1.对防抖和节流的理解")]),s._v(" "),n("ul",[n("li",[s._v("函数防抖是指在事件被触发n秒后再执行回调，如果在这n秒内事件又被触发，则重新计时。这可以使用在一些点击请求的事件上，避免因为用户的多次点击向后端发送多次请求。")]),s._v(" "),n("li",[s._v("函数节流是指规定一个单位时间，在这个单位事件内，只能有一次触发事件的回调函数执行，如果在同一单位时间内某事件被触发多次，只有一次能生效。节流可以使用在scroll函数的事件监听上，通过事件节流来降低事件调用的频率。")])]),s._v(" "),n("p",[n("strong",[s._v("防抖函数的应用场景")])]),s._v(" "),n("ul",[n("li",[s._v("按钮提交场景：防止多次提交按钮，只执行最后提交的一次")]),s._v(" "),n("li",[s._v("服务端验证场景：表单验证需要服务端配合，只执行一段连续的输入事件的最后一次，还有搜索联想词功能类似生存环境请用lodash.debounce")])]),s._v(" "),n("p",[n("strong",[s._v("节流函数的适用场景")])]),s._v(" "),n("ul",[n("li",[s._v("拖拽场景：固定事件内只执行一次，防止超高频次触发位置变动")]),s._v(" "),n("li",[s._v("缩放场景：监控浏览器resize")]),s._v(" "),n("li",[s._v("动画场景：避免短时间内多次触发动画引起性能问题")])]),s._v(" "),n("h3",{attrs:{id:"_2-实现节流函数和防抖函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-实现节流函数和防抖函数"}},[s._v("#")]),s._v(" 2.实现节流函数和防抖函数")]),s._v(" "),n("p",[n("strong",[s._v("防抖函数的实现：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function debounce(fn, wait) {\n    var timer = null;\n\n    return function() {\n        var context = this;\n        args = [...arguments]; // 类数组转化为数组\n\n        // 如果此时存在定时器的话，则取消之前的定时器重新开始\n        if (timer) {\n            clearTimeout(timer);\n            timer = null;\n        }\n\n        // 设置定时器，使事件间隔指定事件后执行\n        timer = setTimeout(() => {\n            fn.apply(context, args);\n        }, wait);\n    };\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[n("strong",[s._v("函数节流的实现：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// 时间戳版\nfunction throttle(fn, delay) {\n    var preTime = Date.now();\n\n    return function() {\n        var context = this;\n        var args = [...arguments];\n        nowTime = Date.now();\n\n        // 如果两次时间间隔超过指定时间，则执行函数\n        if (nowTime - preTime >= delay) {\n            preTime = Date.now();\n            return fn.apply(context, args);\n        }\n    };\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);